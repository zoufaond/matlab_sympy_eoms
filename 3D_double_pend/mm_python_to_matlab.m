syms t x1 x2 x3 x4 x5 x6 x7 x8 x9 m1 m2 m3 IUxx IUyy IUzz IMxx IMyy IMzz ILxx ILyy ILzz real
% q = [x1,x2,x3,x4,x5,x6,x7,x8,x9];
% m = [m1,m2,m3];
% I = [IUxx IUyy IUzz IMxx IMyy IMzz ILxx ILyy ILzz];
q = [x1,x2,x3,x4,x5,x6];
m = [m1,m2];
I = [IUxx IUyy IUzz ILxx ILyy ILzz];

mm = [1 0 0 0 0 0 0 0 0 0 0 0; 0 1 0 0 0 0 0 0 0 0 0 0; 0 0 1 0 0 0 0 0 0 0 0 0; 0 0 0 1 0 0 0 0 0 0 0 0; 0 0 0 0 1 0 0 0 0 0 0 0; 0 0 0 0 0 1 0 0 0 0 0 0; 0 0 0 0 0 0 m1.*((-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3)).^2 + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2)).^2 + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3)).^2) + m2.*((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).^2 + (rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)).*sin(x4).*cos(x5) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x5) + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)).*cos(x4).*cos(x5)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).^2 + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) - (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x6).*cos(x5)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).^2 + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*cos(x5).*cos(x6)) + ((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x5) - (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*cos(x5).*cos(x6)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (-(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + ((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*cos(x4).*cos(x5) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)).^2 + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).^2 + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)).^2) + (ILxx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILxy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + (ILxy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILyy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILyz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + (ILyz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + (IUxx.*cos(x2).*cos(x3) - IUxy.*sin(x3).*cos(x2) + IUzx.*sin(x2)).*cos(x2).*cos(x3) - (IUxy.*cos(x2).*cos(x3) - IUyy.*sin(x3).*cos(x2) + IUyz.*sin(x2)).*sin(x3).*cos(x2) + (-IUyz.*sin(x3).*cos(x2) + IUzx.*cos(x2).*cos(x3) + IUzz.*sin(x2)).*sin(x2) m1.*(rigid1Cz.*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3)).*sin(x3) - rigid1Cz.*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2)).*cos(x3) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3))) + m2.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + (rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*sin(x4).*cos(x5) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x5) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*cos(x4).*cos(x5)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x6).*cos(x5) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*cos(x5).*cos(x6) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + ((rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x5) - (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*cos(x5).*cos(x6)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (-(rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + ((rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*cos(x4).*cos(x5) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3))) + ((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)).*(ILxy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILyy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILyz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))) + ((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)).*(ILxx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILxy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))) + (sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)).*(ILyz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))) + (IUxx.*cos(x2).*cos(x3) - IUxy.*sin(x3).*cos(x2) + IUzx.*sin(x2)).*sin(x3) + (IUxy.*cos(x2).*cos(x3) - IUyy.*sin(x3).*cos(x2) + IUyz.*sin(x2)).*cos(x3) -IUyz.*sin(x3).*cos(x2) + IUzx.*cos(x2).*cos(x3) + IUzz.*sin(x2) + m1.*(-rigid1Cx.*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3)) + rigid1Cy.*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2))) + m2.*((-rigid1Cx + rigid1Px).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy - rigid1Py).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + (rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-(-rigid1Cx + rigid1Px).*sin(x4).*cos(x5) + (rigid1Cy - rigid1Py).*sin(x5)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*((-rigid1Cx + rigid1Px).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (rigid1Cy - rigid1Py).*sin(x6).*cos(x5)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*((-rigid1Cx + rigid1Px).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (rigid1Cy - rigid1Py).*cos(x5).*cos(x6)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + ((rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x5) - (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*cos(x5).*cos(x6)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (-(rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + ((rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*cos(x4).*cos(x5) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)))).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3))) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(ILxx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILxy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(ILxy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILyy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILyz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))) + (ILyz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*cos(x4).*cos(x5) m2.*((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)) + ((-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*cos(x4).*cos(x5)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + ((-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) - (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*sin(x4).*cos(x5)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (-(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*sin(x6).*cos(x5) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*cos(x5).*cos(x6) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*sin(x5)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2))) + (ILxx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILxy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*cos(x5).*cos(x6) - (ILxy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILyy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILyz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*sin(x6).*cos(x5) + (ILyz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*sin(x5) m2.*(rigid2Cz.*(-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x6) - rigid2Cz.*(rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*cos(x6) + (rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)) + (-rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*cos(x6) + rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x6) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*cos(x4).*cos(x5)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (rigid2Cz.*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x6) - rigid2Cz.*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x6) - (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*sin(x4).*cos(x5)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (-rigid2Cz.*sin(x6).^2.*cos(x5) - rigid2Cz.*cos(x5).*cos(x6).^2 + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*sin(x5)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2))) + (ILxx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILxy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*sin(x6) + (ILxy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILyy.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILyz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3))).*cos(x6) ILyz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + m2.*(-rigid2Cx.*(-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + rigid2Cy.*(rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))) + (-rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-rigid2Cx.*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + rigid2Cy.*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid2Cx.*sin(x6).*cos(x5) + rigid2Cy.*cos(x5).*cos(x6)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2))); 0 0 0 0 0 0 m1.*(rigid1Cz.*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3)).*sin(x3) - rigid1Cz.*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2)).*cos(x3) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3))) + m2.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x5) - (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*cos(x5).*cos(x6)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)).*sin(x4).*cos(x5) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x5) + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)).*cos(x4).*cos(x5)) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) - (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x6).*cos(x5)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*cos(x5).*cos(x6)) + ((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*cos(x4).*cos(x5) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3))) + (IUxx.*sin(x3) + IUxy.*cos(x3)).*cos(x2).*cos(x3) - (IUxy.*sin(x3) + IUyy.*cos(x3)).*sin(x3).*cos(x2) + (IUyz.*cos(x3) + IUzx.*sin(x3)).*sin(x2) + (ILxx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILxy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + (ILxy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILyy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILyz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + (ILyz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) m1.*(rigid1Cz.^2.*sin(x3).^2 + rigid1Cz.^2.*cos(x3).^2 + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3)).^2) + m2.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).^2 + (rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-(rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).^2 + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*((rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x5) - (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*cos(x5).*cos(x6)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).^2 + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*sin(x4).*cos(x5) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x5) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*cos(x4).*cos(x5)) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).^2 + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x6).*cos(x5) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).^2 + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*cos(x5).*cos(x6) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + ((rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*cos(x4).*cos(x5) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).^2) + (IUxx.*sin(x3) + IUxy.*cos(x3)).*sin(x3) + (IUxy.*sin(x3) + IUyy.*cos(x3)).*cos(x3) + ((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)).*(ILxy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILyy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILyz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))) + ((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)).*(ILxx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILxy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))) + (sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)).*(ILyz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))) IUyz.*cos(x3) + IUzx.*sin(x3) + m1.*(-rigid1Cx.*rigid1Cz.*sin(x3) - rigid1Cy.*rigid1Cz.*cos(x3)) + m2.*((-rigid1Cx + rigid1Px).*(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)) + (rigid1Cy - rigid1Py).*(-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)) + (rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-(rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*((rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x5) - (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*cos(x5).*cos(x6)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-(-rigid1Cx + rigid1Px).*sin(x4).*cos(x5) + (rigid1Cy - rigid1Py).*sin(x5)) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*((-rigid1Cx + rigid1Px).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (rigid1Cy - rigid1Py).*sin(x6).*cos(x5)) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*((-rigid1Cx + rigid1Px).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (rigid1Cy - rigid1Py).*cos(x5).*cos(x6)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + ((rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*cos(x4).*cos(x5) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)))).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(ILxx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILxy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(ILxy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILyy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILyz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))) + (ILyz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*cos(x4).*cos(x5) m2.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*((-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) - (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*sin(x4).*cos(x5)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*(-(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*sin(x6).*cos(x5) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*cos(x5).*cos(x6) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*sin(x5)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)) + ((-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*cos(x4).*cos(x5)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (ILxx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILxy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*cos(x5).*cos(x6) - (ILxy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILyy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILyz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*sin(x6).*cos(x5) + (ILyz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*sin(x5) m2.*(rigid2Cz.*(-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x6) - rigid2Cz.*(rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*cos(x6) + (rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(rigid2Cz.*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x6) - rigid2Cz.*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x6) - (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*sin(x4).*cos(x5)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*(-rigid2Cz.*sin(x6).^2.*cos(x5) - rigid2Cz.*cos(x5).*cos(x6).^2 + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*sin(x5)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)) + (-rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*cos(x6) + rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x6) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*cos(x4).*cos(x5)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (ILxx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILxy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*sin(x6) + (ILxy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILyy.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILyz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5))).*cos(x6) ILyz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + m2.*(-rigid2Cx.*(-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))) + rigid2Cy.*(rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))) + (rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-rigid2Cx.*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + rigid2Cy.*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*(rigid2Cx.*sin(x6).*cos(x5) + rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))); 0 0 0 0 0 0 -IUyz.*sin(x3).*cos(x2) + IUzx.*cos(x2).*cos(x3) + IUzz.*sin(x2) + m1.*(-rigid1Cx.*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3)) + rigid1Cy.*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2))) + m2.*((-rigid1Cx + rigid1Px).*(-(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (-rigid1Cx + rigid1Px).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy - rigid1Py).*((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x5) - (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*cos(x5).*cos(x6)) + (rigid1Cy - rigid1Py).*(rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)).*sin(x4).*cos(x5) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x5) + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)).*cos(x4).*cos(x5)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) - (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x6).*cos(x5)) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*cos(x5).*cos(x6))) + (ILxx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILxy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*cos(x4).*cos(x5)).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + (ILxy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILyy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILyz.*cos(x4).*cos(x5)).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + (ILyz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILzz.*cos(x4).*cos(x5)).*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) IUyz.*cos(x3) + IUzx.*sin(x3) + m1.*(-rigid1Cx.*rigid1Cz.*sin(x3) - rigid1Cy.*rigid1Cz.*cos(x3)) + m2.*((-rigid1Cx + rigid1Px).*(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)) + (-rigid1Cx + rigid1Px).*(-(rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (rigid1Cy - rigid1Py).*(-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)) + (rigid1Cy - rigid1Py).*((rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x5) - (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*cos(x5).*cos(x6)) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*sin(x4).*cos(x5) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x5) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*cos(x4).*cos(x5)) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x6).*cos(x5) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*cos(x5).*cos(x6) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)))) + ((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)).*(ILxy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILyy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILyz.*cos(x4).*cos(x5)) + ((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)).*(ILxx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILxy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*cos(x4).*cos(x5)) + (sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)).*(ILyz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILzz.*cos(x4).*cos(x5)) IUzz + m1.*(rigid1Cx.^2 + rigid1Cy.^2) + m2.*((-rigid1Cx + rigid1Px).^2 + (-rigid1Cx + rigid1Px).*(-(rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x4).*cos(x5) + (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (rigid1Cy - rigid1Py).^2 + (rigid1Cy - rigid1Py).*((rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x5) - (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x6).*cos(x5) + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*cos(x5).*cos(x6)) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).^2 + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-(-rigid1Cx + rigid1Px).*sin(x4).*cos(x5) + (rigid1Cy - rigid1Py).*sin(x5)) + ((-rigid1Cx + rigid1Px).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (rigid1Cy - rigid1Py).*sin(x6).*cos(x5)).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + ((-rigid1Cx + rigid1Px).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (rigid1Cy - rigid1Py).*cos(x5).*cos(x6)).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).^2 + (rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).^2) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(ILxx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILxy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*cos(x4).*cos(x5)) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(ILxy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILyy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILyz.*cos(x4).*cos(x5)) + (ILyz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILzz.*cos(x4).*cos(x5)).*cos(x4).*cos(x5) m2.*((-rigid1Cx + rigid1Px).*((-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) - (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*sin(x4).*cos(x5)) + (rigid1Cy - rigid1Py).*(-(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*sin(x6).*cos(x5) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*cos(x5).*cos(x6) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*sin(x5)) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)))) + (ILxx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILxy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*cos(x4).*cos(x5)).*cos(x5).*cos(x6) - (ILxy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILyy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILyz.*cos(x4).*cos(x5)).*sin(x6).*cos(x5) + (ILyz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILzz.*cos(x4).*cos(x5)).*sin(x5) m2.*(rigid2Cz.*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x6) - rigid2Cz.*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*cos(x6) + (-rigid1Cx + rigid1Px).*(rigid2Cz.*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x6) - rigid2Cz.*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x6) - (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*sin(x4).*cos(x5)) + (rigid1Cy - rigid1Py).*(-rigid2Cz.*sin(x6).^2.*cos(x5) - rigid2Cz.*cos(x5).*cos(x6).^2 + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*sin(x5)) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6))) + (ILxx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILxy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*cos(x4).*cos(x5)).*sin(x6) + (ILxy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILyy.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILyz.*cos(x4).*cos(x5)).*cos(x6) ILyz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILzz.*cos(x4).*cos(x5) + m2.*(-rigid2Cx.*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + rigid2Cy.*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (-rigid1Cx + rigid1Px).*(-rigid2Cx.*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) + rigid2Cy.*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4))) + (rigid1Cy - rigid1Py).*(rigid2Cx.*sin(x6).*cos(x5) + rigid2Cy.*cos(x5).*cos(x6))); 0 0 0 0 0 0 m2.*((rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)) + (-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) - (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x6).*cos(x5)) + (rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*cos(x5).*cos(x6)) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*(-(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)).*sin(x4).*cos(x5) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x5) + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)).*cos(x4).*cos(x5))) + ((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)).*(ILxx.*cos(x5).*cos(x6) - ILxy.*sin(x6).*cos(x5) + ILzx.*sin(x5)) + ((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)).*(ILxy.*cos(x5).*cos(x6) - ILyy.*sin(x6).*cos(x5) + ILyz.*sin(x5)) + (-ILyz.*sin(x6).*cos(x5) + ILzx.*cos(x5).*cos(x6) + ILzz.*sin(x5)).*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) m2.*((rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)) + (-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x6).*cos(x5) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*cos(x5).*cos(x6) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*(-(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*sin(x4).*cos(x5) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x5) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*cos(x4).*cos(x5))) + ((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)).*(ILxy.*cos(x5).*cos(x6) - ILyy.*sin(x6).*cos(x5) + ILyz.*sin(x5)) + ((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)).*(ILxx.*cos(x5).*cos(x6) - ILxy.*sin(x6).*cos(x5) + ILzx.*sin(x5)) + (sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)).*(-ILyz.*sin(x6).*cos(x5) + ILzx.*cos(x5).*cos(x6) + ILzz.*sin(x5)) m2.*((rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)) + (-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*((-rigid1Cx + rigid1Px).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (rigid1Cy - rigid1Py).*sin(x6).*cos(x5)) + (-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*((-rigid1Cx + rigid1Px).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (rigid1Cy - rigid1Py).*cos(x5).*cos(x6)) + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))) + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).*(-(-rigid1Cx + rigid1Px).*sin(x4).*cos(x5) + (rigid1Cy - rigid1Py).*sin(x5))) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(ILxx.*cos(x5).*cos(x6) - ILxy.*sin(x6).*cos(x5) + ILzx.*sin(x5)) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(ILxy.*cos(x5).*cos(x6) - ILyy.*sin(x6).*cos(x5) + ILyz.*sin(x5)) + (-ILyz.*sin(x6).*cos(x5) + ILzx.*cos(x5).*cos(x6) + ILzz.*sin(x5)).*cos(x4).*cos(x5) m2.*((-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).^2 + (rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).^2 + (-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6)).^2) + (ILxx.*cos(x5).*cos(x6) - ILxy.*sin(x6).*cos(x5) + ILzx.*sin(x5)).*cos(x5).*cos(x6) - (ILxy.*cos(x5).*cos(x6) - ILyy.*sin(x6).*cos(x5) + ILyz.*sin(x5)).*sin(x6).*cos(x5) + (-ILyz.*sin(x6).*cos(x5) + ILzx.*cos(x5).*cos(x6) + ILzz.*sin(x5)).*sin(x5) m2.*(rigid2Cz.*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*sin(x6) - rigid2Cz.*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*cos(x6) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6))) + (ILxx.*cos(x5).*cos(x6) - ILxy.*sin(x6).*cos(x5) + ILzx.*sin(x5)).*sin(x6) + (ILxy.*cos(x5).*cos(x6) - ILyy.*sin(x6).*cos(x5) + ILyz.*sin(x5)).*cos(x6) -ILyz.*sin(x6).*cos(x5) + ILzx.*cos(x5).*cos(x6) + ILzz.*sin(x5) + m2.*(-rigid2Cx.*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)) + rigid2Cy.*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5))); 0 0 0 0 0 0 m2.*(rigid2Cz.*(-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*sin(x6) - rigid2Cz.*(rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))).*cos(x6) - rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*cos(x5).*cos(x6)).*cos(x6) + rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) - (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x6).*cos(x5)).*sin(x6) + (rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*(-(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)).*sin(x4).*cos(x5) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x5) + (-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)).*cos(x4).*cos(x5))) + (ILxx.*sin(x6) + ILxy.*cos(x6)).*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + (ILxy.*sin(x6) + ILyy.*cos(x6)).*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + (ILyz.*cos(x6) + ILzx.*sin(x6)).*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) m2.*(rigid2Cz.*(-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*sin(x6) - rigid2Cz.*(rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))).*cos(x6) + rigid2Cz.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x6).*cos(x5) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))).*sin(x6) - rigid2Cz.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*cos(x5).*cos(x6) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))).*cos(x6) + (rigid2Cx.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) - rigid2Cy.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))).*(rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*(-(rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*sin(x4).*cos(x5) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x5) + (rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)).*cos(x4).*cos(x5))) + (ILxx.*sin(x6) + ILxy.*cos(x6)).*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + (ILxy.*sin(x6) + ILyy.*cos(x6)).*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + (ILyz.*cos(x6) + ILzx.*sin(x6)).*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) m2.*(rigid2Cz.*((-rigid1Cx + rigid1Px).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (rigid1Cy - rigid1Py).*sin(x6).*cos(x5)).*sin(x6) - rigid2Cz.*((-rigid1Cx + rigid1Px).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (rigid1Cy - rigid1Py).*cos(x5).*cos(x6)).*cos(x6) + rigid2Cz.*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*sin(x6) - rigid2Cz.*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4))).*cos(x6) + (rigid2Cx.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) - rigid2Cy.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))).*(rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*(-(-rigid1Cx + rigid1Px).*sin(x4).*cos(x5) + (rigid1Cy - rigid1Py).*sin(x5))) + (ILxx.*sin(x6) + ILxy.*cos(x6)).*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + (ILxy.*sin(x6) + ILyy.*cos(x6)).*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + (ILyz.*cos(x6) + ILzx.*sin(x6)).*cos(x4).*cos(x5) m2.*(rigid2Cz.*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)).*sin(x6) - rigid2Cz.*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5)).*cos(x6) + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).*(-rigid2Cx.*sin(x6).*cos(x5) - rigid2Cy.*cos(x5).*cos(x6))) + (ILxx.*sin(x6) + ILxy.*cos(x6)).*cos(x5).*cos(x6) - (ILxy.*sin(x6) + ILyy.*cos(x6)).*sin(x6).*cos(x5) + (ILyz.*cos(x6) + ILzx.*sin(x6)).*sin(x5) m2.*(rigid2Cz.^2.*sin(x6).^2 + rigid2Cz.^2.*cos(x6).^2 + (rigid2Cx.*cos(x6) - rigid2Cy.*sin(x6)).^2) + (ILxx.*sin(x6) + ILxy.*cos(x6)).*sin(x6) + (ILxy.*sin(x6) + ILyy.*cos(x6)).*cos(x6) ILyz.*cos(x6) + ILzx.*sin(x6) + m2.*(-rigid2Cx.*rigid2Cz.*sin(x6) - rigid2Cy.*rigid2Cz.*cos(x6)); 0 0 0 0 0 0 ILyz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5)) + ILzx.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + m2.*(-rigid2Cx.*(-rigid2Cx.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) + rigid2Cz.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*sin(x2) - (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*sin(x3).*cos(x2) + cos(x2).*cos(x3).*cos(x5).*cos(x6))) - rigid2Cx.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) - (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*sin(x6).*cos(x5)) + rigid2Cy.*(rigid2Cy.*(sin(x2).*cos(x4).*cos(x5) + sin(x3).*sin(x4).*cos(x2).*cos(x5) + sin(x5).*cos(x2).*cos(x3)) - rigid2Cz.*((sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*sin(x2) - (-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*sin(x3).*cos(x2) - sin(x6).*cos(x2).*cos(x3).*cos(x5))) + rigid2Cy.*((sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(-rigid1Cx.*sin(x3).*cos(x2) - rigid1Cy.*cos(x2).*cos(x3) + rigid1Px.*sin(x3).*cos(x2) + rigid1Py.*cos(x2).*cos(x3)) + (sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*(-rigid1Cx.*sin(x2) + rigid1Cz.*cos(x2).*cos(x3) + rigid1Px.*sin(x2) - rigid1Pz.*cos(x2).*cos(x3)) + (rigid1Cy.*sin(x2) + rigid1Cz.*sin(x3).*cos(x2) - rigid1Py.*sin(x2) - rigid1Pz.*sin(x3).*cos(x2)).*cos(x5).*cos(x6))) ILyz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5)) + ILzx.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6)) + ILzz.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + m2.*(-rigid2Cx.*(-rigid2Cx.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) + rigid2Cz.*((sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)).*cos(x3) + sin(x3).*cos(x5).*cos(x6))) - rigid2Cx.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*sin(x6).*cos(x5) + (sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3))) + rigid2Cy.*(rigid2Cy.*(sin(x3).*sin(x5) - sin(x4).*cos(x3).*cos(x5)) - rigid2Cz.*((-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)).*cos(x3) - sin(x3).*sin(x6).*cos(x5))) + rigid2Cy.*((rigid1Cz.*sin(x3) - rigid1Pz.*sin(x3)).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (-rigid1Cz.*cos(x3) + rigid1Pz.*cos(x3)).*cos(x5).*cos(x6) + (sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)).*(rigid1Cx.*cos(x3) - rigid1Cy.*sin(x3) - rigid1Px.*cos(x3) + rigid1Py.*sin(x3)))) ILyz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)) + ILzx.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6)) + ILzz.*cos(x4).*cos(x5) + m2.*(-rigid2Cx.*((-rigid1Cx + rigid1Px).*(-sin(x4).*sin(x5).*sin(x6) + cos(x4).*cos(x6)) - (rigid1Cy - rigid1Py).*sin(x6).*cos(x5)) - rigid2Cx.*(-rigid2Cx.*cos(x4).*cos(x5) + rigid2Cz.*(sin(x4).*sin(x6) - sin(x5).*cos(x4).*cos(x6))) + rigid2Cy.*((-rigid1Cx + rigid1Px).*(sin(x4).*sin(x5).*cos(x6) + sin(x6).*cos(x4)) + (rigid1Cy - rigid1Py).*cos(x5).*cos(x6)) + rigid2Cy.*(rigid2Cy.*cos(x4).*cos(x5) - rigid2Cz.*(sin(x4).*cos(x6) + sin(x5).*sin(x6).*cos(x4)))) -ILyz.*sin(x6).*cos(x5) + ILzx.*cos(x5).*cos(x6) + ILzz.*sin(x5) + m2.*(-rigid2Cx.*(-rigid2Cx.*sin(x5) + rigid2Cz.*cos(x5).*cos(x6)) + rigid2Cy.*(rigid2Cy.*sin(x5) + rigid2Cz.*sin(x6).*cos(x5))) ILyz.*cos(x6) + ILzx.*sin(x6) + m2.*(-rigid2Cx.*rigid2Cz.*sin(x6) - rigid2Cy.*rigid2Cz.*cos(x6)) ILzz + m2.*(rigid2Cx.^2 + rigid2Cy.^2)];
matlabFunction(mm,'file','mm','vars',{t,q,I,m});